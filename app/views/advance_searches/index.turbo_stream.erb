<%= turbo_stream.replace "patients_list" do %>
  <%= turbo_frame_tag "patients_list" do %>
    <% if @patients.any? %>
      <div class="overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-200">
          <thead class="bg-gray-50">
            <tr>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nombre</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Expediente</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Acciones</th>
            </tr>
          </thead>
          <tbody class="bg-white divide-y divide-gray-200">
            <% @patients.each do |patient| %>
              <tr>
                <td class="px-6 py-4 whitespace-nowrap"><%= patient.name %></td>
                <td class="px-6 py-4 whitespace-nowrap"><%= patient.medical_record %></td>
                <td class="px-6 py-4 whitespace-nowrap">
                  <%= link_to "Editar", edit_patient_path(patient), class: "text-blue-600 hover:text-blue-900" %>
                </td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>

      <%== pagy(@pagy) %>
    <% else %>
      <div class="text-center py-8">
        <p class="text-gray-500">No se encontraron pacientes que coincidan con la b√∫squeda.</p>
      </div>
    <% end %>
  <% end %>
<% end %>
