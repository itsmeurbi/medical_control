<%= form_with model: @patient, action: :post do |f| %>
  <div class="grid grid-cols-3 shadow rounded bg-white p-4 gap-x-6 gap-y-2">
    <div class="grid">
      <div class="w-full">
        <%= f.label :name, 'Nombre:' %>
        <%= f.text_field :name, required: true, class: 'w-full rounded p-2 text-gray-900 border border-gray-300 focus:ring-blue-500 focus:border-blue-500' %>
      </div>
      <div class = "grid grid-cols-2 w-full gap-2">
        <div>
          <%= f.label :medical_record, 'Exp:' %>
          <%= f.text_field :medical_record, class: 'w-full rounded p-2 text-gray-900 border border-gray-300 focus:ring-blue-500 focus:border-blue-500', readonly: true, disabled: true  %>
        </div>
        <div>
          <%= f.label :registered_at, 'F. Ingreso:' %>
          <%= f.date_field :registered_at, required: true, class: 'w-full rounded p-2 text-gray-900 border border-gray-300 focus:ring-blue-500 focus:border-blue-500' %>
        </div>
      </div>
      <div class = "grid grid-cols-6 w-full gap-2" data-controller="birthday">
        <div class="flex flex-col justify-end col-span-3" >
          <%= f.label :birth_date, 'F. Nac:' %>
          <%= f.date_field :birth_date, class: 'w-full rounded p-2 text-gray-900 border border-gray-300 focus:ring-blue-500 focus:border-blue-500', data: { birthday_target: "dateInput", action: "birthday#updateAge" } %>
        </div>
        <div class="flex flex-col justify-end">
          <%= f.label :age, 'Edad:' %>
          <%= f.number_field :age, max: 100,
                                   min: 1,
                                   value: @patient.age,
                                   disabled: true,
                                   readonly: true,
                                   class: 'w-full rounded p-2 text-gray-900 border border-gray-300 focus:ring-blue-500 focus:border-blue-500',
                                   data: { birthday_target: "ageInput" } %>
        </div>
        <div class="flex flex-col justify-end">
          <%= f.label :gender, 'Sexo:' %>
          <%= f.select :gender, options_for_select(gender_select_options, selected: @patient.gender), { include_blank: true }, {class: 'w-full rounded p-2 text-gray-900 border border-gray-300 focus:ring-blue-500 focus:border-blue-500'} %>
        </div>
        <div class="flex flex-col justify-end">
          <%= f.label :marital_status, 'E. Civil:' %>
          <%= f.select :marital_status, options_for_select(marital_status_select_options, selected: @patient.marital_status), { include_blank: true }, {class: 'w-full rounded p-2 text-gray-900 border border-gray-300 focus:ring-blue-500 focus:border-blue-500'} %>
        </div>
      </div>
    </div>
    <div class="grid">
      <div class="w-full flex flex-col">
        <%= f.label :alergies, 'ALERGIAS:', class: 'font-bold text-red-600' %>
        <%= f.text_area :alergies, class: 'w-full rounded p-2 text-red-600 border border-gray-300 focus:ring-blue-500 focus:border-blue-500', rows: 1 %>
      </div>
      <div class="w-full flex flex-col ">
          <%= f.label :anticoagulants, 'ANTICOAGULANTES:', class: 'font-bold text-red-600' %>
          <%= f.text_area :anticoagulants, class: 'w-full rounded p-2 text-red-600 border border-gray-300 focus:ring-blue-500 focus:border-blue-500', rows: 1 %>
      </div>
      <div class="grid grid-cols-3 gap-2 w-full">
        <div class="w-full flex flex-col justify-end">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 1.5H8.25A2.25 2.25 0 006 3.75v16.5a2.25 2.25 0 002.25 2.25h7.5A2.25 2.25 0 0018 20.25V3.75a2.25 2.25 0 00-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3" />
          </svg>
          <%= f.text_field :cellphone_number, class: 'w-full rounded p-2 text-gray-900 border border-gray-300 focus:ring-blue-500 focus:border-blue-500' %>
        </div>
        <div class="w-full flex flex-col justify-end">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z" />
          </svg>
          <%= f.text_field :phone_number, class: 'w-full rounded p-2 text-gray-900 border border-gray-300 focus:ring-blue-500 focus:border-blue-500' %>
        </div>
        <div class="w-full flex flex-col justify-end">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M7.875 14.25l1.214 1.942a2.25 2.25 0 001.908 1.058h2.006c.776 0 1.497-.4 1.908-1.058l1.214-1.942M2.41 9h4.636a2.25 2.25 0 011.872 1.002l.164.246a2.25 2.25 0 001.872 1.002h2.092a2.25 2.25 0 001.872-1.002l.164-.246A2.25 2.25 0 0116.954 9h4.636M2.41 9a2.25 2.25 0 00-.16.832V12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 12V9.832c0-.287-.055-.57-.16-.832M2.41 9a2.25 2.25 0 01.382-.632l3.285-3.832a2.25 2.25 0 011.708-.786h8.43c.657 0 1.281.287 1.709.786l3.284 3.832c.163.19.291.404.382.632M4.5 20.25h15A2.25 2.25 0 0021.75 18v-2.625c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125V18a2.25 2.25 0 002.25 2.25z" />
          </svg>
          <%= f.text_field :email, class: 'w-full rounded p-2 text-gray-900 border border-gray-300 focus:ring-blue-500 focus:border-blue-500' %>
        </div>
      </div>
    </div>
    <div class="grid">
      <div  class="w-full">
          <%= f.label :chronics, 'Crónicos/Degenerativas:' %>
          <%= f.text_area :chronics, class: 'w-full rounded p-2 text-gray-900 border border-gray-300 focus:ring-blue-500 focus:border-blue-500', rows: 1 %>
      </div>
        <div  class="w-full">
          <%= f.label :initial_dx, 'DX. A. Inicial:' %>
          <%= f.text_area :initial_dx, class: 'w-full rounded p-2 text-gray-900 border border-gray-300 focus:ring-blue-500 focus:border-blue-500', rows: 1 %>
        </div>
      <div  class="w-full flex flex-col justify-end">
          <%= f.label :final_dx, 'DX. A. Final:' %>
          <%= f.text_area :final_dx, class: 'w-full rounded p-2 text-gray-900 border border-gray-300 focus:ring-blue-500 focus:border-blue-500', rows: 1 %>
      </div>
    </div>
    <div>
      <div class="w-full grid grid-cols-2 gap-2">
        <div class = "w-full">
          <%= f.label :reference, 'Referencia:' %>
          <%= f.text_field :reference, class: 'w-full rounded p-2 text-gray-900 border border-gray-300 focus:ring-blue-500 focus:border-blue-500' %>
        </div>
        <div class = "w-full" >
          <%= f.label :fiscal_situation, 'S. Fiscal/Fact:' %>
          <%= f.text_area :fiscal_situation,
                                            class: 'w-full rounded p-2 text-gray-900 border border-gray-300 focus:ring-blue-500 focus:border-blue-500', rows: 1 %>
        </div>
      </div>
      <div class="w-full grid grid-cols-1 gap-2" >
        <div class = "w-full" >
          <%= f.label :occupations, 'Ocupación:' %>
          <%= f.text_area :occupations,
                                          class: 'w-full rounded p-2 text-gray-900 border border-gray-300 focus:ring-blue-500 focus:border-blue-500', rows: 1 %>
        </div>
      </div>
    </div>
    <div>
      <div class="w-full grid grid-cols-8 gap-2" >
        <div class="w-full col-span-5">
          <%= f.label :address, 'Domicilio:' %>
          <%= f.text_area :address, class: 'w-full rounded p-2 text-gray-900 border border-gray-300 focus:ring-blue-500 focus:border-blue-500', rows: 1 %>
        </div>
        <div class = "w-full col-span-3">
          <%= f.label :city, 'Ciudad:' %>
          <%= f.text_field :city, class: 'w-full rounded p-2 text-gray-900 border border-gray-300 focus:ring-blue-500 focus:border-blue-500' %>
        </div>
      </div>
      <div class="w-full grid grid-cols-1 gap-2" >
        <div class="w-full flex flex-col">
          <%= f.label :interventionism_tx, 'Tx. Intervencionismo:' %>
          <%= f.text_area :interventionism_tx, class: 'w-full rounded p-2 text-gray-900 border border-gray-300 focus:ring-blue-500 focus:border-blue-500', rows: 1 %>
        </div>
      </div>
    </div>
    <div>
      <div class="w-full flex flex-col">
        <%= f.label :medical_background, 'Antecedentes:' %>
        <%= f.text_area :medical_background, class: 'w-full rounded p-2 text-gray-900 border border-gray-300 focus:ring-blue-500 focus:border-blue-500', rows: 1 %>
      </div>
      <div  class="w-full flex flex-col pt-2">
        <%= f.label :surgical_background, 'QX:' %>
        <%= f.text_area :surgical_background, class: 'w-full rounded p-2 text-gray-900 border border-gray-300 focus:ring-blue-500 focus:border-blue-500', rows: 1 %>
      </div>
    </div>
  </div>
  <div data-component="tab-container" class="bg-white mt-0.5 shadow rounded">
    <div class="text-sm font-medium text-center text-gray-500 border-b border-gray-200">
      <ul class="flex flex-wrap -mb-px">
        <li class="mr-2 cursor-pointer">
          <a id = "display-pain-form"
             data-target = "pain-form"
             data-component-type = "tab"
             class = "inline-block p-4 text-blue-800 border-b-2 border-blue-800 rounded-t-lg active hover:text-blue-800 hover:border-blue-900">Caracteristicas del dolor</a>
        </li>
        <li class="mr-2 cursor-pointer">
          <a data-target ="physical-exploration-form"
             data-component-type = "tab"
             id="display-physic-form"
             class="inline-block p-4 text-gray-600 border-b-2 border-gray-600 rounded-t-lg active hover:text-blue-900 hover:border-blue-900" aria-current="page">Exploración física</a>
        </li>
        <li class="mr-2 cursor-pointer">
          <a data-target="lab-form"
             data-component-type = "tab"
             id="display-lab-form"
             class="inline-block p-4 text-gray-600 border-b-2 border-gray-600 rounded-t-lg active hover:text-blue-900 hover:border-blue-900">Laboratorio/Gabinete</a>
        </li>
        <li class="mr-2 cursor-pointer">
          <a data-target="treatment-form"
             id="display-treatment-form"
             data-component-type = "tab"
             class="inline-block p-4 text-gray-600 border-b-2 border-gray-600 rounded-t-lg active hover:text-blue-900 hover:border-blue-900">Tratamientos</a>
        </li>
      </ul>
    </div>
    <%= render 'pain_form', f: f %>
    <%= render 'physical_exploration_form', f: f %>
    <%= render 'lab_form', f: f %>
    <%= render 'treatment_form', f: f %>
  </div>
  <div class="mt-4 flex">
    <%= f.submit submit, class: 'bg-blue-600 hover:bg-blue-800 shadow-sm text-white font-bold py-2 px-4 rounded block mr-2 cursor-pointer' %>
    <%= link_to 'Regresar', root_path, class: 'bg-white hover:bg-gray-200 text-black font-bold py-2 px-4 rounded border' %>
  </div>
<% end %>
